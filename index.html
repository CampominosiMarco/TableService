<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Table Service Test</title>
		<link rel="stylesheet" href="https://www.cm-innovationlab.it/cm-innovationlab_style.css">
    </head>

    <body>
		<h1>Table</h1>

		<div id="table_service"></div>

		<small class="copyright">.:. Copyright &copy;2020-<script>document.write(new Date().getFullYear())</script>	CM-InnovationLab.it .:. All Rights Reserved .:.</small>

		
    </body>
	<script language="javascript">
		let myJSON = '{ ' + 
						'"header": ["a", "b", "c"],' + 
						'"body": {' + 
							'"1": ["value A1", 1, "value C1"],' + 
							'"2": ["value A2", 2, "value C2", 65, 899],' + 
							'"3": ["value A3", 3, "value C3", 65],' + 
							'"4": ["value A4", 4, "value C4"]' + 
						'}' + 
					'}';
	
		var xhttp = new XMLHttpRequest();
		var url = "localhost:8080/table";
		xhttp.onreadystatechange = function() {

			console.log(this.readyState + " - " + this.status);

			if (this.readyState == 4 && this.status == 200) {
				const obj = JSON.parse(this.responseText);
				document.getElementById("table_service").innerHTML = obj.content;
			}
		}
		xhttp.open("POST", url);
		//xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
		xhttp.send(JSON.stringify(myJSON));
	
	
		console.log(myJSON);
		
	
	</script>
</html>

